  
pipeline {
    agent any
    stages 
    {  
             
				   stage ('compile stage') {
				   steps{ 
				   withMaven (maven :Maven 3.5.2 ){
				   sh 'mvn clean compile'
                 }
				 }
				 }
				 
				   stage ('testing stage') {
				   steps{ 
				   withMaven (maven :Maven 3.5.2 ){
				   sh 'mvn clean test'
                 }
				 }
				 }
				 
				
				 	 stage ('deploy to qa') {
				   steps{echo "deploying"
                 }
				 }
				 
				  stage ('get approval') {
				   steps{input "Deploy to Prod?"
                 }
				 }
				   stage ('deployment stage') {
				   steps{ 
				   withMaven (maven :Maven 3.5.2 ){
				   sh 'mvn deploy'
                 }
				 }
				 }
				 
				 
				
				 }
             
}
}
